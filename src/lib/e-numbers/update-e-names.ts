import { readFileSync, writeFileSync } from "fs";

// E-number names from Wikipedia research
const eNumberNames: Record<string, string> = {
  // E100-E199 (colours)
  E100: "Curcumin",
  E101: "Riboflavin",
  E101a: "Riboflavin-5'-Phosphate",
  E102: "Tartrazine",
  E103: "Alkannin",
  E104: "Quinoline Yellow WS",
  E105: "Fast Yellow AB",
  E106: "Riboflavin-5-Sodium Phosphate",
  E107: "Yellow 2G",
  E110: "Sunset Yellow FCF",
  E111: "Orange GGN",
  E120: "Cochineal",
  E121: "Citrus Red 2",
  E122: "Carmoisine",
  E123: "Amaranth",
  E124: "Ponceau 4R",
  E125: "Ponceau SX",
  E126: "Ponceau 6R",
  E127: "Erythrosine",
  E128: "Red 2G",
  E129: "Allura Red AC",
  E130: "Indanthrene Blue RS",
  E131: "Patent Blue V",
  E132: "Indigo Carmine",
  E133: "Brilliant Blue FCF",
  E140: "Chlorophylls and Chlorophyllins",
  E141: "Copper Complexes of Chlorophylls and Chlorophyllins",
  E142: "Green S",
  E143: "Fast Green FCF",
  E150a: "Plain Caramel",
  E150b: "Caustic Sulfite Caramel",
  E150c: "Ammonia Caramel",
  E150d: "Sulfite Ammonia Caramel",
  E151: "Black PN",
  E152: "Carbon Black",
  E153: "Vegetable Carbon",
  E154: "Brown FK",
  E155: "Brown HT",
  E160a: "Alpha-carotene, Beta-carotene, Gamma-carotene",
  E160b: "Annatto, bixin, norbixin",
  E160c: "Paprika oleoresin",
  E160d: "Lycopene",
  E160e: "Beta-apo-8'-carotenal",
  E160f: "Ethyl ester of beta-apo-8'-carotenic acid",
  E161a: "Flavoxanthin",
  E161b: "Lutein",
  E161c: "Cryptoxanthin",
  E161d: "Rubixanthin",
  E161e: "Violaxanthin",
  E161f: "Rhodoxanthin",
  E161g: "Canthaxanthin",
  E161h: "Zeaxanthin",
  E161i: "Citranaxanthin",
  E161j: "Astaxanthin",
  E162: "Beetroot Red",
  E163: "Anthocyanins",
  E164: "Saffron",
  E170: "Calcium Carbonate",
  E171: "Titanium Dioxide",
  E172: "Iron Oxides and Iron Hydroxides",
  E173: "Aluminium",
  E174: "Silver",
  E175: "Gold",
  E180: "Pigment Rubine",
  E181: "Tannin",
  E182: "Orcein",

  // E200-E299 (preservatives)
  E200: "Sorbic Acid",
  E201: "Sodium Sorbate",
  E202: "Potassium Sorbate",
  E203: "Calcium Sorbate",
  E209: "Heptyl p-hydroxybenzoate",
  E210: "Benzoic Acid",
  E211: "Sodium Benzoate",
  E212: "Potassium Benzoate",
  E213: "Calcium Benzoate",
  E214: "Ethylparaben",
  E215: "Sodium Ethyl para-hydroxybenzoate",
  E216: "Propylparaben",
  E217: "Sodium Propyl para-hydroxybenzoate",
  E218: "Methylparaben",
  E219: "Sodium Methyl para-hydroxybenzoate",
  E220: "Sulfur Dioxide",
  E221: "Sodium Sulfite",
  E222: "Sodium Bisulfite",
  E223: "Sodium Metabisulfite",
  E224: "Potassium Metabisulfite",
  E225: "Potassium Sulfite",
  E226: "Calcium Sulfite",
  E227: "Calcium Hydrogen Sulfite",
  E228: "Potassium Hydrogen Sulfite",
  E230: "Biphenyl",
  E231: "Orthophenyl Phenol",
  E232: "Sodium Orthophenyl Phenol",
  E233: "Thiabendazole",
  E234: "Nisin",
  E235: "Natamycin",
  E236: "Formic Acid",
  E237: "Sodium Formate",
  E238: "Calcium Formate",
  E239: "Hexamine",
  E240: "Formaldehyde",
  E242: "Dimethyl Dicarbonate",
  E249: "Potassium Nitrite",
  E250: "Sodium Nitrite",
  E251: "Sodium Nitrate",
  E252: "Potassium Nitrate",
  E260: "Acetic Acid",
  E261: "Potassium Acetate",
  E262: "Sodium Acetates",
  E263: "Calcium Acetate",
  E264: "Ammonium Acetate",
  E265: "Dehydroacetic Acid",
  E266: "Sodium Dehydroacetate",
  E267: "Buffered Vinegar",
  E270: "Lactic Acid",
  E280: "Propionic Acid",
  E281: "Sodium Propionate",
  E282: "Calcium Propionate",
  E283: "Potassium Propionate",
  E284: "Boric Acid",
  E285: "Sodium Tetraborate",
  E290: "Carbon Dioxide",
  E296: "Malic Acid",
  E297: "Fumaric Acid",

  // E300-E399 (antioxidants, acidity regulators)
  E300: "Ascorbic Acid",
  E301: "Sodium Ascorbate",
  E302: "Calcium Ascorbate",
  E303: "Potassium Ascorbate",
  E304: "Fatty Acid Esters of Ascorbic Acid",
  E305: "Ascorbyl Stearate",
  E306: "Tocopherols",
  E307: "Alpha-Tocopherol",
  E308: "Gamma-Tocopherol",
  E309: "Delta-Tocopherol",
  E310: "Propyl Gallate",
  E311: "Octyl Gallate",
  E312: "Dodecyl Gallate",
  E313: "Ethyl Gallate",
  E314: "Guaiac Resin",
  E315: "Erythorbic Acid",
  E316: "Sodium Erythorbate",
  E317: "Erythorbin Acid",
  E318: "Sodium Erythorbin",
  E319: "tert-Butylhydroquinone",
  E320: "Butylated Hydroxyanisole",
  E321: "Butylated Hydroxytoluene",
  E322: "Lecithin",
  E323: "Anoxomer",
  E324: "Ethoxyquin",
  E325: "Sodium Lactate",
  E326: "Potassium Lactate",
  E327: "Calcium Lactate",
  E328: "Ammonium Lactate",
  E329: "Magnesium Lactate",
  E330: "Citric Acid",
  E331: "Sodium Citrates",
  E332: "Potassium Citrates",
  E333: "Calcium Citrates",
  E334: "Tartaric Acid",
  E335: "Sodium Tartrates",
  E336: "Potassium Tartrates",
  E337: "Sodium Potassium Tartrate",
  E338: "Phosphoric Acid",
  E339: "Sodium Phosphates",
  E340: "Potassium Phosphates",
  E341: "Calcium Phosphates",
  E342: "Ammonium Phosphates",
  E343: "Magnesium Phosphates",
  E344: "Lecithin Citrate",
  E345: "Magnesium Citrate",
  E349: "Ammonium Malate",
  E350: "Sodium Malates",
  E351: "Potassium Malate",
  E352: "Calcium Malates",
  E353: "Metatartaric Acid",
  E354: "Calcium Tartrate",
  E355: "Adipic Acid",
  E356: "Sodium Adipate",
  E357: "Potassium Adipate",
  E359: "Ammonium Adipate",
  E363: "Succinic Acid",
  E365: "Monosodium Fumarate",
  E366: "Potassium Fumarate",
  E367: "Calcium Fumarate",
  E368: "Ammonium Fumarate",
  E370: "1,4-Heptonolactone",
  E375: "Niacin",
  E380: "Triammonium Citrate",
  E381: "Ammonium Ferric Citrate",
  E383: "Calcium Glycerylphosphate",
  E384: "Isopropyl Citrate",
  E385: "Calcium Disodium EDTA",
  E386: "Disodium EDTA",
  E387: "Oxystearin",
  E388: "Thiodipropionic Acid",
  E389: "Dilauryl Thiodipropionate",
  E390: "Distearyl Thiodipropionate",
  E391: "Phytic Acid",
  E392: "Carnosic Acid",
  E399: "Calcium Lactobionate",

  // E400-E499 (thickeners, stabilisers, emulsifiers)
  E400: "Alginic Acid",
  E401: "Sodium Alginate",
  E402: "Potassium Alginate",
  E403: "Ammonium Alginate",
  E404: "Calcium Alginate",
  E405: "Propane-1,2-diol Alginate",
  E406: "Agar",
  E407: "Carrageenan",
  E407a: "Processed Eucheuma Seaweed",
  E408: "Bakers Yeast Glycan",
  E409: "Arabinogalactan",
  E410: "Locust Bean Gum",
  E411: "Oat Gum",
  E412: "Guar Gum",
  E413: "Tragacanth",
  E414: "Acacia Gum",
  E415: "Xanthan Gum",
  E416: "Karaya Gum",
  E417: "Tara Gum",
  E418: "Gellan Gum",
  E419: "Gum Ghatti",
  E420: "Sorbitol",
  E421: "Mannitol",
  E422: "Glycerol",
  E424: "Curdlan",
  E425: "Konjac",
  E426: "Soybean Hemicellulose",
  E427: "Cassia Gum",
  E428: "Gelatin",
  E429: "Peptones",
  E430: "Polyoxyethene (8) Stearate",
  E431: "Polyoxyethene (40) Stearate",
  E432: "Polyoxyethene (20) Sorbitan Monolaurate",
  E433: "Polyoxyethene (20) Sorbitan Monooleate",
  E434: "Polyoxyethene (20) Sorbitan Monopalmitate",
  E435: "Polyoxyethene (20) Sorbitan Monostearate",
  E436: "Polyoxyethene (20) Sorbitan Tristearate",
  E440: "Pectins",
  E441: "Gelatine",
  E442: "Ammonium Phosphatides",
  E443: "Brominated Vegetable Oil",
  E444: "Sucrose Acetate Isobutyrate",
  E445: "Glycerol Esters of Wood Rosins",
  E446: "Succistearin",
  E450: "Diphosphates",
  E451: "Triphosphates",
  E452: "Polyphosphates",
  E459: "Beta-cyclodextrin",
  E460: "Cellulose",
  E461: "Methyl Cellulose",
  E462: "Ethyl Cellulose",
  E463: "Hydroxypropyl Cellulose",
  E464: "Hypromellose",
  E465: "Ethyl Methyl Cellulose",
  E466: "Carboxymethyl Cellulose",
  E467: "Ethyl Hydroxyethyl Cellulose",
  E468: "Crosslinked Sodium Carboxymethyl Cellulose",
  E469: "Enzymically Hydrolysed Carboxymethylcellulose",
  E470a: "Sodium, Potassium and Calcium Salts of Fatty Acids",
  E470b: "Magnesium Salts of Fatty Acids",
  E471: "Mono- and Diglycerides of Fatty Acids",
  E472a: "Acetic Acid Esters of Mono- and Diglycerides",
  E472b: "Lactic Acid Esters of Mono- and Diglycerides",
  E472c: "Citric Acid Esters of Mono- and Diglycerides",
  E472d: "Tartaric Acid Esters of Mono- and Diglycerides",
  E472e: "Mono- and Diacetyl Tartaric Acid Esters",
  E472f: "Mixed Acetic and Tartaric Acid Esters",
  E472g: "Succinylated Monoglycerides",
  E473: "Sucrose Esters of Fatty Acids",
  E474: "Sucroglycerides",
  E475: "Polyglycerol Esters of Fatty Acids",
  E476: "Polyglycerol Polyricinoleate",
  E477: "Propane-1,2-diol Esters of Fatty Acids",
  E478: "Lactylated Fatty Acid Esters",
  E479b: "Thermally Oxidized Soya Bean Oil",
  E480: "Dioctyl Sodium Sulfosuccinate",
  E481: "Sodium Stearoyl-2-lactylate",
  E482: "Calcium Stearoyl-2-lactylate",
  E483: "Stearyl Tartrate",
  E484: "Stearyl Citrate",
  E485: "Sodium Stearoyl Fumarate",
  E486: "Calcium Stearoyl Fumarate",
  E487: "Sodium Laurylsulfate",
  E488: "Ethoxylated Mono- and Di-Glycerides",
  E489: "Methyl Glucoside-coconut Oil Ester",
  E490: "Propane-1,2-diol",
  E491: "Sorbitan Monostearate",
  E492: "Sorbitan Tristearate",
  E493: "Sorbitan Monolaurate",
  E494: "Sorbitan Monooleate",
  E495: "Sorbitan Monopalmitate",
  E496: "Sorbitan Trioleate",
  E497: "Polyoxypropylene-polyoxyethylene Polymers",
  E498: "Partial Polyglycerol Esters",
  E499: "Stigmasterol-rich Plant Sterols",

  // E500-E599 (acidity regulators, anti-caking agents)
  E500: "Sodium Carbonates",
  E501: "Potassium Carbonates",
  E503: "Ammonium Carbonates",
  E504: "Magnesium Carbonates",
  E505: "Ferrous Carbonate",
  E507: "Hydrochloric Acid",
  E508: "Potassium Chloride",
  E509: "Calcium Chloride",
  E510: "Ammonium Chloride",
  E511: "Magnesium Chloride",
  E512: "Stannous Chloride",
  E513: "Sulfuric Acid",
  E514: "Sodium Sulfates",
  E515: "Potassium Sulfates",
  E516: "Calcium Sulfate",
  E517: "Ammonium Sulfate",
  E518: "Magnesium Sulfate",
  E519: "Copper(II) Sulfate",
  E520: "Aluminium Sulfate",
  E521: "Aluminium Sodium Sulfate",
  E522: "Aluminium Potassium Sulfate",
  E523: "Aluminium Ammonium Sulfate",
  E524: "Sodium Hydroxide",
  E525: "Potassium Hydroxide",
  E526: "Calcium Hydroxide",
  E527: "Ammonium Hydroxide",
  E528: "Magnesium Hydroxide",
  E529: "Calcium Oxide",
  E530: "Magnesium Oxide",
  E535: "Sodium Ferrocyanide",
  E536: "Potassium Ferrocyanide",
  E537: "Ferrous Hexacyanomanganate",
  E538: "Calcium Ferrocyanide",
  E539: "Sodium Thiosulfate",
  E540: "Dicalcium Diphosphate",
  E541: "Sodium Aluminium Phosphate",
  E542: "Bone Phosphate",
  E543: "Calcium Sodium Polyphosphate",
  E544: "Calcium Polyphosphate",
  E545: "Ammonium Polyphosphate",
  E550: "Sodium Silicates",
  E551: "Silicon Dioxide",
  E552: "Calcium Silicate",
  E553a: "Magnesium Silicate",
  E553b: "Talc",
  E554: "Sodium Aluminosilicate",
  E555: "Potassium Aluminium Silicate",
  E556: "Calcium Aluminosilicate",
  E557: "Zinc Silicate",
  E558: "Bentonite",
  E559: "Aluminium Silicate",
  E560: "Potassium Silicate",
  E561: "Vermiculite",
  E562: "Sepiolite",
  E563: "Sepiolitic Clay",
  E565: "Lignosulfonates",
  E566: "Natrolite-phonolite",
  E570: "Fatty Acids",
  E572: "Magnesium Stearate",
  E574: "Gluconic Acid",
  E575: "Glucono Delta-lactone",
  E576: "Sodium Gluconate",
  E577: "Potassium Gluconate",
  E578: "Calcium Gluconate",
  E579: "Ferrous Gluconate",
  E580: "Magnesium Gluconate",
  E585: "Ferrous Lactate",
  E586: "4-Hexylresorcinol",
  E598: "Synthetic Calcium Aluminates",
  E599: "Perlite",

  // E600-E699 (flavour enhancers)
  E620: "Glutamic Acid",
  E621: "Monosodium Glutamate",
  E622: "Monopotassium Glutamate",
  E623: "Calcium Diglutamate",
  E624: "Monoammonium Glutamate",
  E625: "Magnesium Diglutamate",
  E626: "Guanylic Acid",
  E627: "Disodium Guanylate",
  E628: "Dipotassium Guanylate",
  E629: "Calcium Guanylate",
  E630: "Inosinic Acid",
  E631: "Disodium Inosinate",
  E632: "Dipotassium Inosinate",
  E633: "Calcium Inosinate",
  E634: "Calcium 5'-ribonucleotides",
  E635: "Disodium 5'-ribonucleotides",
  E636: "Maltol",
  E637: "Ethyl Maltol",
  E640: "Glycine and its Sodium Salt",
  E650: "Zinc Acetate",

  // E700-E799 (antibiotics)
  E701: "Tetracyclines",
  E702: "Chlortetracycline",
  E703: "Oxytetracycline",
  E704: "Oleandomycin",
  E705: "Penicillin G Potassium",
  E706: "Penicillin G Sodium",
  E707: "Penicillin G Procaine",
  E708: "Penicillin G Benzathine",
  E710: "Spiramycins",
  E711: "Virginiamycins",
  E712: "Flavomycin",
  E713: "Tylosin",
  E714: "Monensin A",
  E715: "Avoparcin",
  E716: "Salinomycin",
  E717: "Avilamycin",

  // E900-E999 (glazing agents, gases, sweeteners)
  E900: "Dimethyl Polysiloxane",
  E901: "Beeswax",
  E902: "Candelilla Wax",
  E903: "Carnauba Wax",
  E904: "Shellac",
  E905: "Paraffins",
  E905a: "Mineral Oil",
  E905b: "Petrolatum",
  E905c: "Petroleum Wax",
  E906: "Gum Benzoic",
  E907: "Crystalline Wax",
  E908: "Rice Bran Wax",
  E909: "Spermaceti Wax",
  E910: "Wax Esters",
  E911: "Methyl Esters of Fatty Acids",
  E912: "Montanic Acid Esters",
  E913: "Lanolin",
  E914: "Oxidized Polyethylene Wax",
  E915: "Esters of Colophony",
  E916: "Calcium Iodate",
  E917: "Potassium Iodate",
  E918: "Nitrogen Oxides",
  E919: "Nitrosyl Chloride",
  E920: "L-cysteine",
  E921: "L-cystine",
  E922: "Potassium Persulfate",
  E923: "Ammonium Persulfate",
  E924: "Potassium Bromate",
  E924b: "Calcium Bromate",
  E925: "Chlorine",
  E926: "Chlorine Dioxide",
  E927a: "Azodicarbonamide",
  E927b: "Carbamide",
  E928: "Benzoyl Peroxide",
  E929: "Acetone Peroxide",
  E930: "Calcium Peroxide",
  E938: "Argon",
  E939: "Helium",
  E940: "Dichlorodifluoromethane",
  E941: "Nitrogen",
  E942: "Nitrous Oxide",
  E943a: "Butane",
  E943b: "Isobutane",
  E944: "Propane",
  E945: "Chloropentafluoroethane",
  E946: "Octafluorocyclobutane",
  E948: "Oxygen",
  E949: "Hydrogen",
  E950: "Acesulfame Potassium",
  E951: "Aspartame",
  E952: "Cyclamic Acid and its Salts",
  E953: "Isomalt",
  E954: "Saccharin and its Salts",
  E955: "Sucralose",
  E956: "Alitame",
  E957: "Thaumatin",
  E958: "Glycyrrhizin",
  E959: "Neohesperidine Dihydrochalcone",
  E960: "Steviol Glycosides",
  E961: "Neotame",
  E962: "Aspartame-acesulfame Salt",
  E964: "Polyglycitol Syrup",
  E965: "Maltitol",
  E966: "Lactitol",
  E967: "Xylitol",
  E968: "Erythritol",
  E969: "Advantame",
  E999: "Quillaia Extract",

  // E1000-E1599 (additional additives)
  E1000: "Cholic Acid",
  E1001: "Choline Salts",
  E1100: "Amylase",
  E1101: "Proteases",
  E1102: "Glucose Oxidase",
  E1103: "Invertase",
  E1104: "Lipases",
  E1105: "Lysozyme",
  E1200: "Polydextrose",
  E1201: "Polyvinylpyrrolidone",
  E1202: "Polyvinylpolypyrrolidone",
  E1203: "Polyvinyl Alcohol",
  E1204: "Pullulan",
  E1400: "Dextrin",
  E1401: "Acid-treated Starch",
  E1402: "Alkaline Modified Starch",
  E1403: "Bleached Starch",
  E1404: "Oxidized Starch",
  E1405: "Enzyme Treated Starch",
  E1410: "Monostarch Phosphate",
  E1411: "Distarch Glycerol",
  E1412: "Distarch Phosphate",
  E1413: "Phosphated Distarch Phosphate",
  E1414: "Acetylated Distarch Phosphate",
  E1420: "Starch Acetate",
  E1421: "Starch Acetate (vinyl)",
  E1422: "Acetylated Distarch Adipate",
  E1423: "Acetylated Distarch Glycerol",
  E1430: "Distarch Glycerine",
  E1440: "Hydroxy Propyl Starch",
  E1441: "Hydroxy Propyl Distarch Glycerine",
  E1442: "Hydroxy Propyl Distarch Phosphate",
  E1443: "Hydroxy Propyl Distarch Glycerol",
  E1450: "Starch Sodium Octenyl Succinate",
  E1451: "Acetylated Oxidised Starch",
  E1452: "Starch Aluminium Octenyl Succinate",
  E1501: "Benzylated Hydrocarbons",
  E1502: "Butane-1, 3-diol",
  E1503: "Castor Oil",
  E1504: "Ethyl Acetate",
  E1505: "Triethyl Citrate",
  E1510: "Ethanol",
  E1516: "Glyceryl Monoacetate",
  E1517: "Glyceryl Diacetate",
  E1518: "Glyceryl Triacetate",
  E1519: "Benzyl Alcohol",
  E1520: "Propylene Glycol",
  E1521: "Polyethylene Glycol 8000",
  E1525: "Hydroxyethyl Cellulose",
};

function updateENumberNames() {
  const filePath =
    "/home/jklapper/projects/private/friendly-waffle/src/lib/e-numbers/veganENumbersFull.ts";

  let content = readFileSync(filePath, "utf-8");
  let updatedCount = 0;

  // For each E-number name mapping, replace empty names
  for (const [eNumber, name] of Object.entries(eNumberNames)) {
    // Look for pattern: code: "E123", ... name: "",
    const pattern = new RegExp(`(code: "${eNumber}",[\\s\\S]*?)name: "",`, "g");

    const replacement = `$1name: "${name}",`;
    const newContent = content.replace(pattern, replacement);

    if (newContent !== content) {
      content = newContent;
      updatedCount++;
      console.log(`Updated ${eNumber}: ${name}`);
    }
  }

  // Write back the updated content
  writeFileSync(filePath, content, "utf-8");
  console.log(`\nTotal E-numbers updated: ${updatedCount}`);

  // Also update the root file
  const rootFilePath =
    "/home/jklapper/projects/private/friendly-waffle/veganENumbersFull.ts";
  writeFileSync(rootFilePath, content, "utf-8");
  console.log(`Also updated root file: ${rootFilePath}`);
}

updateENumberNames();
